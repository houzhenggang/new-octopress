<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Hegel2011的博客]]></title>
  <link href="http://octopresszhangyu.herokuapp.com/atom.xml" rel="self"/>
  <link href="http://octopresszhangyu.herokuapp.com/"/>
  <updated>2013-02-01T13:58:05+08:00</updated>
  <id>http://octopresszhangyu.herokuapp.com/</id>
  <author>
    <name><![CDATA[Hegel 2011]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[《白帽子讲Web安全》]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/26/bai-mao-zi-web/"/>
    <updated>2013-01-26T22:59:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/26/bai-mao-zi-web</id>
    <content type="html"><![CDATA[<p>一天半的功夫，书已经读了一半了。从这半本的情况来看，书写的很一般。首先，交代的不够细致。有些地方是不太能贯通的，背景知识和其间的逻辑推论
都做的很不扎实。其次，重点难点不突出。有些关键的地方并没有点出来，只能靠读者自己去审阅。第三，代码贴的太多，而且也是毫无重点的代码，
篇幅很大，但真正值得读的代码却很少。</p>

<p>本书好的地方就是给出了大量的实例，这些例子就在我们身边，百度的、搜狐的、MySpace的。跟着这些案例仔细自己再做分析应该还是会有很多收获的。
至少让人明白，第一网络确实不安全，第二值得研究的工作还有许多。</p>

<p>但是，被很多人推荐就有点不可理解了。从技术书籍的角度考量，这本书真的很一般。就清晰度、深度、整洁度来讲，都很平平。卖的好，可能主要还是营销
的好。</p>

<p>花了2天半，这本书也就翻完了。还是过得去的一本书，但有些评价显然过高。Yahoo的算法很有用。几个案例至少也提供了继续跟踪研究的线索。</p>

<p>这本书的总体风格就是这个样子，提供了足够多的案例作为进一步研究的入门线索，但书本身拼凑痕迹严重，存在大量的不负责代码黏贴，也缺乏作为一本技术书籍
尤其是畅销书籍应该具备的细致入微的分析。不过这个主题的其他书籍也确实不多，作者也算这个领域的牛人了。还是值得推荐给做Web开发的人员读读的，至少可以
增加点广度的认识。</p>

<p><a href="https://gist.github.com/f801d7015715f6f10098">gist</a></p>

<p>作者：</p>

<p>吴翰清，西安交通大学少年班，84年生人。<br/>
2007年，成为P7（初级技术专家）；<br/>
2010年，成为P8（高级技术专家）。<br/>
2012年下半年，跳槽去了安全宝，创新工场下面的一个企业。我对开复不感冒，甚至是负分的哦。</p>

<p><strong>白帽子</strong> 主守， <strong>黑帽子</strong> 主攻。</p>

<p>防火墙及ACL的控制，是的任意攻击系统端口的情况不再可能。而Web端口不能封。加之Web技术的普及和流行，黑客攻击转向Web。</p>

<h3>安全三要素(CIA)</h3>

<ul>
<li>机密性(Confidentiality)</li>
<li>完整性(Integrity)</li>
<li>可用性(Availability)</li>
</ul>


<p>其他还有可审计性、不可抵赖性等</p>

<p>第一章很一般，全部都是空谈，讲一些人人都懂的道理。而且归纳的也很不好，基本就是一个列表，列表之间没有逻辑关系。</p>

<p>作者的文字功底和解释能力相当一般。</p>

<h2>XSS(跨站脚本）</h2>

<p>这章前半部分很无聊，作者罗列了一堆xss的案例，其中贴的js代码就差不多有十页。但没解释，没重点。XSS防御部分介绍的还行。
xss可以分为参数安全和劫持Cookie两种。可以试试<a href="http://www.fiddler2.com/fiddler2/">fiddler</a>工具。</p>

<h3>XSS防御</h3>

<ul>
<li>HttpOnly</li>
</ul>


<p>是设置cookie的属性，即只能Http请求时上传，而不能让JS操作。这样就可以避免cookie被劫持。</p>

<ul>
<li>输入检查</li>
</ul>


<p>黑白名单过滤器</p>

<ul>
<li>输出检查</li>
</ul>


<p>在html文本中用HtmlEncode，在javascript中用JavascriptEncode。</p>

<p>在css和url的输出则较为复杂。 Anti-Samy是一个很好的XSS Filter。</p>

<h2>CSRF(Cross Site Request Forgery) 跨站点请求伪造</h2>

<p>有些浏览器本地cookie不会被提交，session型cookie则肯定会被提交。</p>

<p>解决办法是 <strong>验证码</strong> 和 <strong>Anti CSRF Token</strong></p>

<p>就是在表单和session中，都放一个token来确保这个form是本地服务产生的。<br/>
Token可以是一个，也可以是多个。</p>

<p>点击劫持和HTML5都讲的比较烂。总是缺乏画龙点睛的那一笔。</p>

<h2>SQL 注入</h2>

<p>此章依然很一般。介绍的内容相当不到位。比如只说出了是利用sql拼接的漏洞，但没说具体是怎么应用的。
不过在 <a href="http://vdisk.weibo.com/s/oHDMV/1359208976">SQL注入攻击技术初探</a> 中，终于搞懂了以前困惑过我的问题：内容到底是怎么显示出去的。道理在于让第一句（自己写的语句）出错无记录，而后面跟随union则返回攻击程序写出来的sql，这样自然内容就回显了。而参数数量等都是通过order by 16等试错来取得的。</p>

<p>使用预编译语句的效果主要是确保SQL语句的结构不会因为输入的参数发生变化。即实现了数据和代码（字段及从句的分离。</p>

<h2>访问控制</h2>

<p>依然讲的不清楚，懂的人不需要读，不懂的人读了也白读。</p>

<ul>
<li>垂直权限管理 &#8211; 针对URL的访问控制，RBAC</li>
<li>水平权限管理 &#8211; 面对数据资源的</li>
<li>OAuth &#8211; 和我们的重定向类似，只是更加标准，返回的不是用户数据，而是token</li>
</ul>


<h2>加密算法和随机数</h2>

<p>这章还算有点料，从使用者的角度讲解了加密解密算法的用法。</p>

<p>建议：</p>

<ul>
<li>使用CBC模式的AES256用于加密；</li>
<li>使用HMAC-SHA512用于完整性检查；</li>
<li>使用带salt的SHA-256或SHA-512用于Hashing.</li>
</ul>


<h2>DDOS</h2>

<p>亮点在于给了Yahoo的专利，确实是绝佳的主意。
<a href="http://patft.uspto.gov">Detecting system abuse</a></p>

<p>本书不是一本讲解性质的。其特点是列出各个大门，然后读者自己进去领取东西。对比师傅领进门的模式，它的模式是门户告诉你，然后靠自己。</p>

<p>OWASP的ESAPI安全模块</p>

<p>安全监控、入侵检测、Web应用防火墙(Apache的一个模块）</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hackers &amp; Painters]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/20/hackers-and-painters/"/>
    <updated>2013-01-20T15:38:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/20/hackers-and-painters</id>
    <content type="html"><![CDATA[<p>Paul Graham 的这本书有15个章节。我有英文版和中文版两个版本，但读了英文版没几页之后，我就决定把这本书当做双语练习来对待。
是的，作者的文章很美，也很有深度和启发，值得对照、精读和背诵。15章我已经阅读了几章，第一章的Why Nerds Are Unpopular感觉最好。<br/>
<strong>第六章</strong>How to make wealth有人说看了大受启发，基本说明了财富和金钱的关系，但这个内容在我看来就比较平淡，因为中欧商学院推荐的
图书基本已经把这个道理说得很清楚了。所谓大公司测量难小公司测素质方便也是很早就是我自己产生的想法。不过高科技公司拥有的杠杆（放大）
效应此前并没有强烈的意识。其他的诸如形成产权概念、保护私人财产是西方发达的主要因素，这个xiaozixin早就讲过。只不过这下子更明确了
西方也不是一开始就这样的。产权或者说私权的明晰是一个逐步发展的过程，也是文艺复兴的一大成果。在西方的过去，统治者及其手下也是会想办法
把财富从创造者那里夺走。只是后来才逐步找到了平衡。</p>

<p><strong>第10章</strong>和<strong>第11章</strong>都是关于程序语言的。对我而言，这两章比较业余。当然，作者的视野很高，从机器语言到高层语言，从动态执行到静态编译，从强类型
到弱类型都介绍了一下，感觉这章是给外行看的科普文章。后面的100年语言如何就比较扯了，随便看看就行。</p>

<p>下面重点说说<strong>第一章</strong>。这篇文章很独特。作者从书呆子(nerds)为什么不受欢迎说起，指出是因为nerds对受欢迎不是真的最感兴趣；随后分析美国普通
初高中学校的分层情况，指出nerds所受的是“迫害”，因为一个梨型的架构下必须要有一些牺牲品成为受打击对象，这样最底层的“白人”才能好受些，才能享受被欢迎。
随后才引出文章的真正主题，学校为什么会存在？学校和监狱为什么又类似的地方，为什么二者的内部社会等级也很类似？其实文章是对现今流行的
学校教育制度的一种抨击。因为学校和监狱一样，他们的存在本身并不是为了创造什么财富，一大功能是把人给围起来避免影响工业化时代<strong>其他普通人</strong>的
工作。学校的存在使得一个人在22岁之前和现实世界是分离的。而且缺乏实践，相对于农业文明（藏人小孩8岁就可以放牧了）时能创造真正的财富
需要很长的时间和代价。<br/>
最后又回到主题，指出nerds之所以在学校不受欢迎本质上是他们看到了更现实世界的需求，他们是能促进世界进步的人。</p>

<p>一旦nerds进入现实世界，现实世界的需求需要他们去解决，此后他们就会被得到尊重。因为此时受不受欢迎在小团体中不再成为主要因素。而且世界范围的
扩大也使得nerds可以自己组群从而不再孤单。</p>

<p>结合自己的感受说说这一章。从nerd对现实世界有用来讲，这个世界上的人本来就是可以分为欢迎且有用、不欢迎但有用、欢迎但没用、不欢迎且没用。
一个无所事事的世界或环境里，欢迎是第一位的，有用是次要的，但一旦环境发生变化必须要有用时，那么欢迎反而是可以退居之后的。作者的文章
只是把nerd局限在学校，然后一下子推广到了大千世界。<br/>
现在看来，中国媒体日常所讲的“情商”其实是社交受欢迎的意思。严格地说，情商不单包括受欢迎，还包括承受压力、自信心、意志力等个人品质，我国
媒体强调的情商只是片面的受欢迎关联的几项。</p>

<p>孩子的世界确实存在着欺负。因为其秩序是团体内部临时组合而成，没有经历过历史的演变，层级和帮派往往会占据主流，看来无论是美国还是中国的中学
都存在秩序混乱的特色。只不过中国是以考试为荣的国度，书呆子只要成绩好，一般也没人会看不起，反而还是挺受尊重的。但任何群体里，都不太会欢迎
逆袭这样的举动，此时美帝和中国中学生的表现都差不多，即群起而攻之。这也是为了站队的需要，使得自己可以被其他团体接受。只要是梨型结构，可能就是这种特色。</p>

<p>关于教育，美帝的一套看来并不值得一学，他们的问题也不少。</p>

<p><strong>第二章</strong>是关于画家和hacker的。这个现在读来就没什么新东西了，因为这也是我这几年主要接触的素材，个人也是这么想的。
本质上，计算机是一种文科和理科结合的专业，而其中又可以派生出一类maker。计算机之所以能如此流行，渗透到生活的方方面面，主要就在于它具备这种
文学和理科、自由和严谨、艺术和工程的结合的性质。计算机系和软件学院的区别也可以从中窥到一斑。我去过意大利，去过佛罗伦萨，倒是那些画家的事迹
更有感触。原来那些画上的内容也是可以不同的人完成的，实际上一个画家不会全部都自己画完。每幅画其实也反复修改过多次（颜料的反复修补涂改等）。
这个和做软件真的挺类似。<br/>
而且，他也给抵制数学找出了理由。如果是计算机科学，那么必然要加入数学，而实际上这并不是必须的。计算机不是数学，是我一直以来有的观念，否则大家
还搞什么计算机，都去数学系不是更好。就是因为计算机有自己的关注点和特色，才从数学里面分离出来的么。<br/>
总之，很有意思的一章，但对我而言可能觉得都是顺理成章的。从大学时代的学习、到后面DHH的实例，都验证了我的想法。呵呵，可以正大光明地偷懒
不学算法导论了。</p>

<p><strong>第三章</strong>是关于独立思考和要不要讲出来的。这篇文章较难，英文的很多地方就不理解，转而看中文也如坠五里雾中。小结一下作者的意思是要自己独立思考、
怀疑要大但说出来的要小。步子迈大了叫离经叛道，走一点点就叫创新。思想要奇特，讲话要把握分寸。</p>

<p><strong>第四章</strong>从解释hacker和hack的含义开始，然后以hack的历史作为衔接引到了<strong>政府和有反抗精神人的关系</strong>上面。第一个hacker不是计算机
专家，而是一个在曼哈顿计划中破解保险箱密码的hacker。然后展开了为什么美国有强大的黑客文化，因为美国人的反抗精神本来就强大一些。
二战期间，德日英法都没这种现象。<br/>
原因当然很简单，能反抗政府的人自然也能解决其他棘手问题，在政府门前不声不响的自然在其他问题面前也无能为力。此外产权保护、防止
研究都是等于政府给hacker放了一把锁，对于hacker而言第一反应自然是要突破它。如果失去了这种精神，或者是失去了这种精神的人，那么国家
将变得衰弱。<br/>
另外，能够自由发言的国家最后容易变成很多东西采取最优方案的那一个。一个集权和权威的国家，则主要是听资助者（老大）的声音，
那方案是否最优就不一定了。再者，权威（集权）国家容易产生腐败，腐败容易导致贫穷，贫穷自然虚弱。这是大清的现实情况。</p>

<p>换个角度，中国的hacker比美国更有反抗政府或者说钻政府控制的精神。所以国家给了一定的生存空间后，财富就积累了起来。我国的
世界第二富不是吹的。</p>

<p><strong>第五章</strong>是关于如何在互联网上开发软件的。作者的文章写于2001年，相当的具有前瞻性，37signals可以说是实践了这套理论的典型。而且也进一步说明了
为什么互联网公司方面小公司可以打败大公司。</p>

<p>在人才和回报两方面，只有小型的互联网公司才能给予优秀人才第一流的回报，做特殊需要费力的事情。大公司只能雇佣优秀人才做普通的事情，或者雇佣普通人才
做很费力的事情，但很难让优秀人才做需要很大努力的事情。</p>

<p>作者对ipod、互联网软件的认识都极有深度，预言的也很准。对世界怎么运行的了解也很深。比如说“很大一部分是商家为了让大公司买下这个商品而付出的费用”，呵呵，
在美国这叫营销，在中国有时候叫做寻租。是的，商品不单有本身的价值，不单由供求关系、环境等决定它的价格，还必然有<strong>为了卖</strong>而付出的成本。</p>

<p><strong>第七章</strong>是关于财富分配的。作者的观点是财富分配差距拉大但社会总体更加富裕，富人和穷人的生活差距反而在缩小。除了收入差距、住房差距，其他差距是在缩小。</p>

<p><strong>平均</strong>和<strong>公平</strong>是两个不同的概念。当官在历史上各个国家都受欢迎，就是因为他们可以窃取财富。但作者这里没说多印钞票的问题。</p>

<p>技术无法使得<strong>品牌</strong>变得更便宜。</p>

<p><strong>第八章</strong> 讲了通过统计学的方法（贝叶斯公式）来解决垃圾邮件。其核心特征就是利用邮件的统计特征值，来实现一套可以自己成长并适应
变化的反垃圾邮件系统。在读过数学之美，了解google之后，这章的核心思想一看就明白了。</p>

<p><strong>第九章</strong> 讲了设计者的品味。实际上是指更好、更美、更简洁的解决方案或者设计。品味的提高源于对现实的不满，起初是模仿，
随后是提高和突破。</p>

<p>这方面中国人普遍不强大，本人和大部分人一样，都是得过且过的。所以，中国好的设计品味并不多。这可能也是没有办法的
事情。</p>

<p><strong>第十二</strong> 、 <strong>十三章</strong> 都是讲使用优秀语言的优势，以lisp为主。前一章以击败平庸公司为切入。各种语言的能力
其实是不一样的，经理的选择更出于平稳考虑，而优秀语言真正的用武之地是小型的竞争激烈的领域。
越通用的技术也意味着越平庸，但对大公司这样是合适的。优秀语言适合需要高收入低人数的企业。</p>

<p>后面的则进一步解释lisp的强大所在。ruby比perl python更接近lisp。lisp的风格用括号和缩进
是我喜欢的，考虑学习学习。</p>

<p>编程语言是技术和宗教的混合物。评估竞争对手可关注他们的招聘职位。书生气的开发者与层级官僚
经理之间总是发生冲突。lisp由数学演算诞生，约翰麦卡西，诞生之处就包含9种新思想，但没写闭包。</p>

<p><strong>第十四章</strong> 则是讲了作者心中的梦幻语言是什么样子的。当然，还是Lisp。</p>

<p><strong>第十五章</strong> 讲了设计和研究的区别于联系。简而言之，设计都是为了好，研究都是为了新。他们的方法不同，但目标都是又新又好。因为好的设计
必然需要带有突破性质的新东西。</p>

<p>为了自己使用的而设计的通常要比给别人使用的设计来的好。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[裸考在软考中意味着什么]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/16/whats-luokao-for-ruankao/"/>
    <updated>2013-01-16T10:30:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/16/whats-luokao-for-ruankao</id>
    <content type="html"><![CDATA[<p>软考通过率大致在20-30%，你以为没过的70%-80%里面大部分是认真复习的么？
软考里面裸考的比例肯定很高，出考率比四六级、考研都低，个别省份甚至设立了“参加全部考试的保证金”以此鼓励考生尽可能地参加完考试。
仅从出考率就可以看出参加考试的人里面裸考的大有人在。有如此大的基数，那么没过的很多，有人过了也很正常。</p>

<p>何况每个人基础不一样，运气也不一样。比如，准备过PMP的他的项目管理知识基本不用再准备，毕竟概念一样的；专业基础好的人，计算机基础知识就不用准备。
有经验且基础不错的人，过软考所需要投入的精力本身就可以比较少。最低限度的，看看真题熟悉一下类型找一下感觉就有可能可以过。</p>

<p>实际上，个人认为只要是看了几年真题的，就不可以算是裸考。毕竟大部分人的复习无非也就是看教材看辅导材料看真题。前两个是基础，后一项是得分的关键。
有基础的直接跳到看真题是没障碍的。但既然看了真题，那就不能说是裸考了。</p>

<p>就像有人说四六级裸考，我是不明白他们的英语是怎么裸掉的。这玩意如果学过了掌握了基本就抛不掉的。软考方面的很多知识也是类似的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[《走出软件作坊》读后感]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/14/out-the-firm/"/>
    <updated>2013-01-14T22:47:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/14/out-the-firm</id>
    <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/david_lv">阿朱</a>的这本走出作坊现身说法，很贴合实际，所以容易引起共鸣给人启发，也确实找到了很多问题过得去的解决办法。
尽管个人认为叫做走进 软件作坊更合适些。</p>

<p>首先说说阿朱的背景。从文章看的出来，阿朱走的是Windows的路线，他开发软件从C/S开始，也以C/S为主，现在也逐步有了一些B/S的东西。
由此背景，决定了他的很多开发观和实际操作的守则。他熟悉Windows的机制，熟悉SQL Server的内部情况，对UI那套比较熟，对MS的工具（Excel Word PPT)
很偏爱，但对console不熟，所以自动化操作方面不强大。然后他受微软的影响很深，所以管理团队喜欢把员工拆成螺丝钉，而不是独当一面的人才。
符合老外的发展思路。但又控制成本，因为能力弱的人成本自然低。从这点上来说，给他打工就不太值得。因为发展空间和薪水空间都有限。他自己也明言，
这样做主要就是为了控制成本。当然，以中国现实来讲这个策略也没什么不对。都像DHH那样，中国人能就业的就没多少人了。</p>

<p>他的背景的另一大特点就是他是卖软件的。这个模式也是微软的模式，而不是卖服务的。软件的销售主要靠售前和销售去打单，实施经理负责项目现场部署和培训，
(ps. 大辉同学原来就是做<strong>实施</strong>的，说白了就是装机的做集成的，所以熟悉OS和Oracle)
他的软件有大量的培训工作要做。研发则在家里支撑。这个模式里面研发和电话支持（call center）确实很像。因为卖软件和实施的关系，这就使得他很善于同不同的客户打交道，见过的
经历过的人足够多，所以他在交际、沟通方面的能力是要强于大部分技术人员的。</p>

<p>他的技术特点是精通数据库和精通操作系统及其应用。对网络等实际一般般。在技术上，我想自己可以做的比他更好。当然，我的数据库还有欠缺。但和他
相比，最欠缺的是和人混熟的能力。虽然他自己也说不喜应酬，他能迅速要到全部联系方式、能迅速与人沟通（吃饭），这些说明他绝不是一个不善于同人应酬的。
这方面，我做的就比较欠缺了。</p>

<p>文章是很贴近实战，也相当直面惨淡的IT人生，是值得一读的文章。上面谈完对作者的基本认识后，将继续写对书内容的感受。</p>

<p>其次，这本书最有价值的地方在于作者真实地描述了自己的研发与管理的状况。仅仅冲着这份勇气，这本书就值得一读。不是人人都乐于或敢于把自己的工作经历
示人的。毕竟现实往往琐碎，有些话有些事情做做可以，说出来就未必敢了。不过作者冲破了这个限制，展现了相当真实的微软系、卖软件、低成本、多营销的
CTO的生活。包括同老板的关系，同下属的关系，同客户的关系，如何提升研发部门的地位等等，这些都很实在也很具体，基本上很多都可以立马借鉴运用。<br/>
拿软考的标准，有些内容像需求管理等都是直接可以作为论文的范文的。</p>

<p>回到自己身上。在对比大辉时，我觉得自己落后这个同龄人3-4年，这个数字和我的整个职业生涯前面脱掉的4年时间大致相等。个人的目标也是再用3年时间，可以
达到他们的成绩，做出和他们类似的事情，拿和他们类似的待遇，并拥有类似的影响力。</p>

<p>而在看了《走出》之后，个人也想对自己的成长关键点作一下小结。</p>

<h3>学习期</h3>

<p>我对计算机真正的认识是在大四下才开始的。在我读书的年代，资料并不多，影印版的流行是大三以后的事情。<strong>《The C programming Language》</strong>第一次让我意识到
程序书可以写的如此简洁清晰而又例子丰富，看了之后才明白C语言应该用来干些什么。可以说，K&amp;R带我入了门，也使我开始习惯看原版技术书籍。
随后影响较深的是<strong>William Stalling是《操作系统原理》</strong>。这是我在即将赴公司报道前的半个暑假看完的。由此才对操作系统有了初步的认识，明白了操作系统发展
的来龙去脉。直到毕业，我的计算机知识才算入门。尽管我经历了我们国家位列前三的计算机系的4年培养，但真的入门的感觉是在毕业那年的7月份了。当然，
没有之前的基础和培养出来的毅力，这两本书不会带给我那么大的收益。而且在9年后的考研中，我进一步确信我的学校我的系确实不愧是中国前三。尽管也不那么完美，
但在比很多学校强大的多。</p>

<p>之后是作为程序员工作的2年。也还是以学习为主。期间用Power Builder写了点client的小东西，主要是用VC开发了一些采集程序之类的东西。跟了几个项目，学习了Java
的基础内容，但没有应用也没什么感觉。这段日子里，收益最大的就是看了Stevens的一系列图书，从<strong>《APUE》</strong>到<strong>《UNP》</strong>，再到TCP系列。除了TCP第二册，其他的
都消化吸收的不错。看UNP的感觉更好，但APUE给我补充的进程等知识让我基本搞明白了OS是怎么回事情，而UNP造就了我的技术口味。后来去做Web能迅速提升，
和这也有很大的关系。</p>

<p>严格的说，这两年不能算荒废，只能说没有经历很好的项目成长的有点慢且漫无目的，针对性不够强。但随后的两年时间则是基本和之后的发展方向脱离的。</p>

<h3>进入Web界</h3>

<p>直到毕业4年后，我的工作重心开始转向Web应用的开发。那时候公司整个的方向也往软件开发转移了。系统从技术上讲就是Java的简单企业应用。技术难度上和业务类型
上和阿朱的公司也差不多，只是路线不一样些。开发工具自然是Java，运行的服务器普遍是Linux或各变种的Unix，数据库则是MySQL和Oracle。起初我对前端
和页面一窍不通，主要负责用Java写后端。有APUE的底子，我的Java能力没用多少时间就已经走在公司的前面。做Java Web用公司惯用的框架Struts做了一年半，
期间项目很多，当然技术上都类似，不过我也逐步从只做后端开始后端到前端通吃，写页面时长让我感觉很痛苦。一年半后，部门组织调整，我也不愿再做IPTV，
于是撤出繁忙的IPTV任务组后，我稍微有了点空闲时间。而在那一年半中，通过读原始的帮助文档及孙卫琴的Tomcat书籍，我基本搞清了Java Web的原理。但是我对
Struts的框架带来的痛苦很不满意。<br/>
07年开始，终于又有了一个跨越和突破，那就是开始学习并引入了Webwork。在读<strong>《Webwork in Action》</strong>的过程中，技术能力得到了提高，而且很多时候都会产生
我也是这么想的感觉，而且认为webwork所做的和我设想的类似，这样一步一步树立起来了对自己技术感觉的信心。随后的项目中，就引入了Webwork框架，确实提高了效率
减轻了不少工作量。从此之后的项目就再也没有回到struts。直到webwork更名为struts2，就更验证了自己的品味和技术感觉还是很出色的。</p>

<h3>高速发展</h3>

<p>而在应用webwork之后，也在07年，开始接触了<strong>Rails</strong>。而这使我的技术能力及解决办法坐上了高速火车。通过应用和熟悉这个框架，逐步熟悉了
Web/HTTP的方方面面，也进一步熟悉了Linux。开始接触了Nginx、Mysql、Ruby、Git/Github、Heroku、Redis、MongoDB、Node.js。Rails直接作为项目使用的主体工具并不多，
至今也只有六七个项目使用了Rails做框架来实现Web界面。出于成本和用人的考虑，部门领导最终还是决定走Java路线。但之后的工作就主要变成了架构师，
所以应用什么语言并非影响很大。反而是架构、设计间共通的东西可以带来更大的影响。在Rails熟悉的过程中，所掌握的设计方法及Web的关键元素，使得我
在应用Java技术时可以更加游刃有余，很多时候有种以高看远的感觉。后来写Rails的评测论文，使得自己对操作系统、性能响应的认识又更进了一步。<br/>
而从Rails引申出来的项目管理、Nginx等种种神器，对个人也有很大的进步，而且很多可以直接运用。也由此，我对自己的定位是技术管理人才。
以统管全体的技术为目的，解难题和立规则，从而提高集体的竞争能力。这个活应该说是最适合我干的。</p>

<h3>转战云计算</h3>

<p>考虑到公司提供的平台和我个人的喜好，希望可以在云计算方面有一番作为。我的硕士毕业论文也是写的这方面的相关内容。而<strong>Node.js</strong>的出现，也给云计算
的发展提供了进一步的条件。前路漫漫，事情多多，到底怎么样也只有继续努力下去。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABBYY FineReader]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/13/abbyy-finereader/"/>
    <updated>2013-01-13T22:11:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/13/abbyy-finereader</id>
    <content type="html"><![CDATA[<p>最近看电子书，发现中文的电子书还是处于原始阶段。网上广泛地流传着书籍的阉割版和扫描版，健全的可读性强的电子版很稀罕，比起英文图书不能同日而语。
只能说一句盗版强国必然也是防盗强国，越是贼窝防盗工作做得越好。</p>

<p>不过热门书籍并不缺少扫描版。于是想起来OCR工具。下载到了ABBYY FineReader，试用之下感觉这也算一方神器了。有了这个工具，以后读浪潮之巅、软件作坊
之类的书籍就再也不用愁了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[通过系统架构师后想说的话]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/12/pass-the-ruan-kao-exam/"/>
    <updated>2013-01-12T20:08:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/12/pass-the-ruan-kao-exam</id>
    <content type="html"><![CDATA[<p>最早听说软考是在大学里了，90年代，当时只是了解这是系统分析员考试。因为不太看得起国家组织的这种考试，于是从来没有留意过。
班上有人参加过，而且是计算机专业方面的牛人。但我依然对此无动于衷。回过头来看，可能我们这批大学生彼时还未扩招，还是所谓的天之骄子，大学期间
干些什么对以后的就业并无本质影响，我们的注意力也更多地放在其他地方。</p>

<p>通过去年上半年开始接触软考后，我发现其实很多题目就是大学考试的题目，至于谁抄的谁实在不好评论。但是，如果彼时能拿来做练习、做参考一定是大有裨益的。
毕竟那些年不像现在资源丰富，教材的教辅是没有的，各种参考资料的获取也极难。而软考当时的教材和参考书却不能获得。如果那时候也参加这方面的内容，
我的专业基础知识应该可以走的更远。</p>

<p>软考历年的题目还是相当有价值的。客观题考的是基础知识，大题目很能体现热点，而且也能给人启发，是不折不扣的的好题和训练素材。</p>

<h3>关于这次考试</h3>

<p>如在<a href="http://octopresszhangyu.herokuapp.com/blog/2012/11/04/ruankao-xi-tong-jia-gou-she-ji-shi/">软考之系统架构设计师</a>所言：</p>

<blockquote><p>起初想报考网络规划师，主要是想在考试的同时可以把网络知识学的全面一些。但随着下半年 论文等事宜，准备一门新的考试的时间并非很充足，所以最后换成了软件架构设计师。实际上下半年只有项目管理、网络规划、系统架构3门高级，项目管理 上半年考了中级，没有继续主要是因为第一书已经借出去了，第二考出来后还要等3年才能去换高级项目的证书。看了看架构师的题目，基本不需要太多额外 的准备工作。于是还是选了架构师。</p></blockquote>

<p>架构师的题目从最早看见就觉得很合适我的方向和日常接触的东西。做真题，客观题无需复习基本就可以在48分以上。因为我有不错的计算机基础知识，经过研究生统考检验的，我的项目管理知识至少也通过
了中级项目经理的考试，应付软考其他科目的项管内容就很轻松了。所以做架构师是真题，我分数丢的多的反而是<strong>“架构风格”</strong>这个核心内容。 但实际上这个
内容也不陌生，只是我不一定习惯它的一些叫法，有些细节需要再雕琢一下。所以，最后看了一点相关的内容也就考到55分以上了。</p>

<p>下午的案例分析题是有一定难度的。经过仔细分析这几年的真题，发现架构风格总有一题，另外Web或当前热点内容（如Rest风格、缓存）也往往会有一题，
偏系统分析的也必有一题。尽管5题中总有一题嵌入式是我搞不定的，但剩下4道里面至少有2道是有把握的。而今年运气不错，热点题是出的关于NoSQL较
SQL的特性及优势。9月份刚完成了一片投稿的论文，对此我研究的还是相当到位的。架构风格也不出意料总是有那么一题。另外还有一题是看图理解，基本
确保第一小题10分到手。于是最后选了这3道题。没做的一道也是设计模式方面，其实也不是不能做了，只是得分上不像看图题那么简单明了，所以没选。
最后原先最担心的案例题反而是得分最高的。取得了6x的成绩。<br/>
应该说，论文的编写对我的帮助还是很大的。一方面开拓了视野，掌握了阅读文献这条路，写了硕士论文，发表了小论文，用老总的话属于名利双收。而在软考
考试中也帮了一把。</p>

<p>下午的案例题是4选1，后面2个我都不熟。后来挑了第二个，写的是关于持久层设计的。考后想来应该选以架构为中心的软件设计更合适些。好在运气不错，
老师还是给够我过线的分数了。但答题时确实犯了硬伤。因为我并不了解几种数据访问模式。其实指的是在先访问、DAO、DTO、离线数据模式、ORM这五种，
不过我打的时候专注于ORM，分的却是ORM里面的进一步细分的模式。这是不折不扣的一个硬伤。但是，好在后面的与应用结合还算写的不错，也确实自己的
经验之谈，占了这部分的光，老师也就让我通过了考试。文章这种东西讲到底主观性还是很强的，运气成分确实不少。</p>

<h3>关于是否参加高项考试</h3>

<p>高项考试我相信还是会参加的。尤其是在继续教育因为不得人心至少在上海很难继续开展下去。高项的投资应该不会失效。考虑到目前孩子年幼加今年另有
2个高工评审要参加，高项的报名至少也是下半年的事情了。也可能要再过一年再予以考虑。通过高项后，我应该不会再参加软考了。当然，很多东西都在变，
所谓不再考其他科目也只是现在的判断。毕竟这种东西的弹性大的很。</p>

<h3>关于高级职称</h3>

<p>其实写小论文就是为了评高级职称，而且是去市里评高级职称。已经折腾了，今年就继续折腾吧。要弄什么创新教育，也是一堆麻烦事情。<br/>
系统内部的评审应该也会报名。不过现在已经有高级证了，也算有个底。</p>

<h3>关于软考的未来</h3>

<p>评论一项考试的未来，可能我过于骄傲了。我对软考的认识依然没有改变，这个证书是比较鸡肋的目前，但毕竟是政府权威的考试，而且它的证书
被上海居转户认可，那么权威的性质就是存在的。但是IT系统毕竟不是其他系统，政府掌握的资源并不具有决定性，大部分高科技企业并不在
政府手里，IT业的主要构成是外企、私企，包括很多的互联网公司。整个的浪潮并非政府带动的。所以这个证书不能像经济师、会计这样铺的开，
最热门的集成项目经理也是因为政府在信息化项目实施上有指导权才吸引了那么多企业来参与。软考真的权威性太强，对IT业未必是好事情。</p>

<p>软考没接触之前会觉得这个东西很没有意义，接触后会发觉对推进人才队伍建设以及提高能力方面确实有不小的促进作用。对整个产业的发展毫无疑问
是有益的。它的未来会同政府和市场、政府和社会的关系紧密相关。也同公平和正义相关。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[读书列表2012]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/11/to-read-list/"/>
    <updated>2013-01-11T12:33:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/11/to-read-list</id>
    <content type="html"><![CDATA[<p>过去2年看了不少书，经管的、技术的、政治文化的，总缺乏一个列表可供集中检查。今年想试试能不能根据计划来读。这样集中的列表也就唾手可得了。</p>

<h2>技术类</h2>

<ol>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2013/01/08/da-hua-cun-chu/">张冬，大话存储，清华</a> 这本书前后总共读了18天，中间有八九天没有读</li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2013/01/26/bai-mao-zi-web/">吴翰清，白帽子讲Web安全，电工</a> 比较一般 没有fenng评价的那么好，2天半搞定，内容掺水比较多，所以阅读时间少</li>
<li>余红春,构建高可用Linux服务器,机工</li>
<li>Thomas Kyte, Expert Oracle Database Architecture.pdf</li>
<li>Flower M. Patterns of Enterprise Application Architecture, Addison-Wesley Professional</li>
<li>Gourley D, Totty B. HTTP权威指南 O&#8217;Reilly</li>
<li>Shash D, Lazere. Out of their Minds: The Lives and Discoveries of 15 Great Computer Scientists</li>
<li>谭云杰,大象&#8211;Thinking in UML，水利水电</li>
<li>谢希仁.计算机网络，电工</li>
</ol>


<h2>经管</h2>

<ol>
<li>何飞鹏,自慢</li>
<li>余江，韦尔奇，Winning（赢），中信</li>
<li>曾志尧, 35岁前要上的33堂理财课,中信</li>
<li>李笑来，把时间当做朋友</li>
<li>蔡康永，说话之道</li>
<li>高盛如何算赢世界</li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2012/12/25/lang-chao-zhi-dian/">吴军,浪潮之巅</a>, it经管入门必读</li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2013/01/14/out-the-firm/">阿朱，走出软件作坊，电工</a>， it职场经验谈，有一定局限，但作者的勇气确实可嘉</li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2013/01/20/hackers-and-painters/">Paul Graham。 Hackers &amp; Painters.</a>，前后看了十来天，一开始中英双语，后来还是直接看中文了。创业教父之名名不虚传。</li>
</ol>


<h2>文化</h2>

<ol>
<li><a href="">王力雄,我的西域 你的东土</a></li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2012/12/15/tianzang/">王力雄，天葬</a></li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2013/01/07/huanghuo-give-way-to-fanghuo/">王力雄，黄祸</a></li>
<li><a href="http://octopresszhangyu.herokuapp.com/blog/2012/12/25/ziyang/">ziyang</a></li>
<li>张鸣，北洋裂变&#8211;军阀与五四</li>
</ol>


<h2>幼儿</h2>

<ol>
<li>阿狸-梦之城堡</li>
<li>阿狸-永远站</li>
</ol>


<h2>期刊文章</h2>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[大话存储]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/08/da-hua-cun-chu/"/>
    <updated>2013-01-08T17:01:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/08/da-hua-cun-chu</id>
    <content type="html"><![CDATA[<p>张冬的《大话存储》确实一本好书，读了之后顿感以前的计算机组成算是白学了。</p>

<p>书到IP SAN之前都是很棒的。讲的很仔细，简直可以替换计算机组成的有关内容了。作者的实战经验很丰富，专业的知识面很广，如PCB盘片为什么要分层，对磁盘的解析，磁盘与CPU、OS的交互都很细致和形象，串行并行的优劣势，对几种Raid之间的区别于联系、发展脉络讲解的十分到位，柜和阵的区别，FC究竟意味着什么。可以看出作者是一个勤于思考勤于提炼的人。</p>

<p>不足之处就是书籍有点虎头蛇尾，在IP SAN讲解完之后的几章内容相对没有重点。当然，作为又出了第二版，我看了下主要补充的就是后半部分的内容。两本我都有，但是简单看了下第二版的后半部分，也还是不如前半部写的出色。</p>

<script src="https://gist.github.com/7e951cbd394d22eeffa0.js"></script>


<h2>存储的发展</h2>

<p>封面很山寨，图片有很多。比较有利于增强感性认识，也符合我想认识设备的需求。</p>

<p>纸带 磁存储 硬盘 磁阵 网络磁阵（几百个磁盘） 网络存储（硬盘从主机箱移到外面）</p>

<h2>总线</h2>

<p>总线就是一条或多条物理导线，导线可以有多条，比如8条、16条、128条。导线（总线）是可以印刷在电路板上，但密集的导线之间会产生<strong>高频振荡</strong>，所以会将这些导线分组印刷到不同的电路板上。然后再将多块板压合起来，形成了所谓的多层印刷电路板(多层PCB)。<br/>
导线中，有些是<strong>交互数据</strong>用的数据总线，有些是<strong>传递控制信号</strong>的控制总线，包括处理<strong>中断与仲裁</strong>的,另有一些是用来确认目标设备的<strong>地址总线。</strong></p>

<h3>连找发模型、CPU与硬盘的交互</h3>

<p>主板上的电容电阻蛇形线都是为了保证导线的通畅。<br/>
CPU和硬盘通过总线相 <strong>连</strong> ；<br/>
<strong>找</strong>即地址通过IO端口向内存中映射，由北桥芯片将这类地址的数据全部映射到总线上的实际设备；<br/>
<strong>发</strong>即发送操作指令，对于磁盘CPU有如下三条指令：
  1. 读还是写，外加其他选项如是否缓存、是否用中断来通知CPU处理
  2. 知名应该读取的硬盘逻辑号[LBA]<br/>
  3. 给出读取出来的内容放在内存中的哪个地址。<br/>
上面这三个指令其实是发给南桥上的控制器，南桥再将指令翻译成磁盘认识的一系列指令，南桥和磁盘之间的协议接口形成了ATA和SCSI两个指令集。</p>

<h2>磁盘结构</h2>

<p>盘片有两个盘面，每个盘面对应一个磁头，所以盘面号就是磁头号，一般是0-5号；<br/>
磁头和头发丝的大小差不多，磁头和盘面间的距离只有头发丝的千分之一；<br/>
盘片上每个同心圆就一个磁道，磁道从0开始编号，磁道上的每段圆弧称作扇区，一个扇区有512字节通常，扇区是流式的，类似磁带，扇区是分块的；<br/>
不同的盘之间相同磁道号的磁道共同组成柱面，圆柱面也从0开始编号，读写是首先在同一个柱面展开的，这样可以取得类似并行读写的效果，避免了不同磁道间的频繁切换；<br/>
能划分的扇区数取决于磁头有多小以及磁头的步进距离有多小，即磁道和磁道间隔有多细</p>

<p>扇区传统上采用CHS编码（Cylinder柱面、Header磁头、Sector扇区)，每个扇区包含扇区头信息和数据区两部分，头信息就有CHS信息以及是否为坏扇区这些内容；不过随着发展，目前已经抽象成了LBA寻址方式，但这只是在磁盘外部表现的逻辑</p>

<p><strong>扇区交叉因子</strong>是为了满足磁头旋转时因速度原因跑过了头，从而把不连续的扇区编号成为第2扇区，其实是一种模的运算，核心还是为了迎合磁头的物理运转需求
<strong>磁头扭斜</strong>则是为了满足切换磁道时也会产生的位移，因而磁道之间开始编号的起始扇区也有一个差</p>

<p><strong>低级格式化</strong>就是利用磁头重新划分扇区</p>

<p>总有个最小单位（芝诺悖论，龟兔赛跑悖论）</p>

<h3>硬盘接口技术</h3>

<ul>
<li><p>ATA</p>

<ul>
<li>IDE（PIO,DMA两种主要模式，前者的数据通过CPU写入内存，后者磁盘直接写入内存，最高的是ATA133）</li>
<li>SATA（较PATA的信号干扰小）</li>
</ul>
</li>
<li><p>SCSI（带宽大，热插拔，较ATA多了SCSI控制卡，其实就是多了一个处理器）</p>

<ul>
<li>并行</li>
<li>串行</li>
<li>IBM SSA</li>
<li>FC接口（FCP）</li>
</ul>
</li>
</ul>


<p>CPU &#8212;&#8211;> 磁盘控制器（南桥） &#8212;&#8211;> 磁盘驱动器控制电路（硬盘内）</p>

<pre><code>`接口1：磁盘控制器驱动程序`   `接口2：ATA/SCSI接口`  
</code></pre>

<p>磁盘数据 &#8212;&#8211;> 驱动控制电路的缓存 &#8212;&#8211;> 磁盘控制器</p>

<pre><code>  `内部传输速率`               `外部传输速率`  
</code></pre>

<h3>并行的劣势</h3>

<p>并行是要求同步达到，这给并发信息之间的配合带来问题；它的传输频率不能太高，因为并行会增加干扰增加配合难度，而串行则无此问题，可以通过增加频率来提高速度。这里面的核心问题是<strong>传输距离</strong>，距离低的比如内存到cpu就不用担心干扰和配合带来的难题。而距离远的，如usb ata这是串行优势明显。</p>

<h2>七种Raid</h2>

<ul>
<li>Raid 0 &#8212; 几块硬盘全部并发；</li>
<li>Raid 1 &#8212; 1比1镜像；</li>
<li>Raid 2 &#8212; 一部分盘用于校验，校验算法采用海明码；  校验盘数量很大，8位的数据就需要4块校验盘，所以已废弃</li>
<li>Raid 3 &#8212; 较Raid 2 对校验进行了突破，采用了布尔运算中的抑或算法，可以用更少的<strong>校验盘</strong>，可以校验和找回，但不像R2那样可以纠错，条带也被弄成了4KB；
每个读写都要所有盘全部一起动，所以文件系统的并发IO很差，因为每个IO都会让所有磁盘都在运作，从而无法可以同时执行多个文件系统IO</li>
<li>Raid 4 &#8212; 较Raid 3 增加了条带的深度，使得磁阵的block更大，从而在写数据时可以只动用少数硬盘；但所有的操作都要写校验盘，从而形成了一个瓶颈；</li>
<li><p>Raid 5 &#8212; 继续使用校验，突破点在于不再单独地使用一个硬盘做校验盘，而是在所有的磁盘中都产生了校验区；</p>

<ul>
<li>Raid 5E和Raid 5EE都是带热备盘的Raid5.</li>
</ul>
</li>
<li><p>Raid 6 &#8212; 另外6种Raid基本只容忍可以损坏一种磁盘，Raid 6允许损坏2块磁盘。在XOR运算之外，又增加了一种校验运算，从而提高了磁阵的可靠性。</p></li>
</ul>


<p>Raid 0速度快所以可以和其他Raid杂交，组成Raid 50 、 Raid 10等等。</p>

<h2>Raid 虚拟磁盘 卷 和文件系统实现</h2>

<h3>软硬Raid</h3>

<p>Raid程序位于OS底层。</p>

<p>Raid 卡北连PCI南部包含了SCSI控制器。</p>

<p>虚拟磁盘是Raid卡把多个磁盘组合出来的，在OS看来就是一个物理磁盘。windows中的动态磁盘。</p>

<h3>卷管理层</h3>

<p><strong>LV</strong> &#8211; 最后构成了LV<br/>
LP &#8211; 往往就是PP，但也可以按Raid 0 和 Raid 1的方式由PP组成<br/>
PP &#8211; 分成N个可以用于磁盘分配的块<br/>
<strong>VG</strong> &#8211; 卷组，多个磁盘都可以放到一个卷组里面<br/>
<strong>PV</strong> &#8211; 物理磁盘</p>

<p>实际的I/O参与者（1个manager，3个drivers）</p>

<ul>
<li>I/O manager &#8212;> 寻求FS翻译</li>
<li>File System driver &#8212;> 把偏移转换成LV相关的便宜, 通过I/O Manager</li>
<li>LV manager driver &#8212;> 翻译成磁盘号和便宜，再次呼叫下一个driver，通过 Manager</li>
<li>Disk driver &#8212;> 翻译成磁盘相关的磁盘上的物理便宜位置</li>
</ul>


<p>这个东西从架构风格上而言就是一个manager带着3个driver，采用过滤器式的链式传递。driver的顺序由manager管理，执行顺序由manager负责。
具体的活则由driver完成。</p>

<h2>阵列</h2>

<p>起步，JBOD，Just a Bound Of Disks, 里面就做到电路板上的SCSI线缆，连接15块硬盘，机箱外露出一个SCSI接口，与主机通过SCSI线相连。</p>

<p>之后，把RAID功能做进箱子里。因为JBOD时OS看见的和能操作的只有磁盘，反之，则能看见磁盘还能用OS工具把磁盘做成Raid。
因此，约定俗成，JBOD叫做<strong>磁盘柜</strong>，后一个叫做<strong>磁盘阵列</strong>。</p>

<p>独立后的磁阵可分为<strong>前端</strong>和<strong>后端</strong>，前端就是对外部提供的接口（<strong>外部接口</strong>)，
后端就是面向内部管理的接口（<strong>内部接口</strong>），前端和后端的协议可以不一样。一个前端
也可以有<strong>多外部接口</strong>，这样就可以连到多个主机。</p>

<p>高级磁阵内部的芯片控制器都是<strong>双路</strong>的，这样避免了磁阵的单点故障。工作方式有
Active-Standby和Dual-Active。</p>

<p><strong>机头</strong>就是带有控制器的磁盘阵列，后面可以接多个磁盘柜。这样一个机头就可以拖n个磁盘柜，从而扩大容量。</p>

<p>盘阵类型有 SCSI-FC、FC-FC、SATA-FC、SCSI-SCSI等等，前后表示后端，后者表示前端。
例如，SCSI-FC表示后端为SCSI接口，前端连接主机的是FC接口。</p>

<h2>FC协议的引入</h2>

<h3>FC协议和以太网</h3>

<p>FC协议其实是Fibre Channel（网状通道）的意思。其传输介质可以是光纤也可以是铜线。就像以太网的传输介质也可以是光纤是一样的。
只不过用光纤连接的多，于是FC在中国就变成光纤通信了。FC协议的传输效率比以太网高，但实现更复杂。但都是可以适应各种传输介质的，
比如无线信号、铜线、光纤。</p>

<p>FC的适配器也有光纤和RJ45等。</p>

<h3>前端从SCSI迁移到FC</h3>

<p>SCSI指令集在SCSI-3中做了分割，从此应用层的指令语义部分独立出来，下层改造成了一个适配器。而FC只要实现了这个适配器的功能就能
使用上层的指令语义部分。就这样，FC和SCSI的组合构成了新的SCSI前端。</p>

<p>意义（好处）：</p>

<ol>
<li>扩展性提高，只要连接上FC交换机，磁阵就能和多台主机相连。</li>
<li>增加了传输距离，铜线和光纤的区别。</li>
<li>有了安全策略：

<ul>
<li>磁阵控制器上配置<strong>LUN映射表</strong>，规定只有某些主机能访问某些LUN，解决磁阵共享的问题</li>
<li>在FC交换机上配置<strong>ZONE</strong>,类似VPN的做法</li>
<li>磁阵共享的另一个解决办法是集群文件系统。是否磁阵独占由SCSI指令集协议定义</li>
</ul>
</li>
<li>可实现冗余和均衡负载</li>
</ol>


<p>FC是<strong>面向无连接</strong>的基于包分发的连接形式，是<strong>串行</strong>的所以适合远距离。</p>

<p>攻陷前端之后，FC又扩展到了SAN的后端。只是后端用的不是FC交换，而是FC中相对简单的另一个模式。协议的上层依然是SCSI。而且后端主要
还是铜材料连接。</p>

<p>配置LUN（划分磁盘），各个LUN参数（条带深度、数据宽度），配置LUN映射。类似PC上给磁盘分区后格式化。</p>

<h2>DAS ， SAN 和NAS</h2>

<p>NAS(Network Attached Storage)就是把文件系统的功能放置在存储设备中，暴露在外面的不再是一个裸设备。
Windows使用CIFS协议，Linux使用NFS协议。</p>

<p>NAS暴露出去的是一个文件系统，而SAN在惯例中只是暴露出去的一个形式上类似物理磁盘的设备。</p>

<p>实际使用中，NAS后面可以接SAN作为存储。即混合使用。NAS也能作为SAN的一种特例。在我国，通常SAN就是指FC SAN。</p>

<h2>以太网和TCP/IP概述</h2>

<ul>
<li>HUB &#8212; 无对应表</li>
<li>网桥 &#8212; 总线-MAC</li>
<li>交换机 &#8212; MAC-端口</li>
</ul>


<p>TCP/IP 和 以太网的关系是PoP，即Protocol over Protocol。它们的关系是一对组合。
协议融合的方式有Tunnel和Map两个大类，PPPoE就是PPP协议 over Ethernet协议。</p>

<h2>IP SAN</h2>

<p>ISCSI, Internet Small Computer System Interface，SCSI协议走在以太网（通过ISCSI）上，以太网替换了FC，如同FC替换了SCSI链路，
编号RFC3720,2004年通过。开销比例约6%。</p>

<p>主机称作<strong>ISCSI Initiator</strong>，磁阵称作<strong>ISCSI Target</strong>设备。</p>

<p>以太网的发展速度以10倍速为单位，10Mb/s，100Mb/s,1Gb/s,10Gb/s. 而FC是以2倍速为单位，1Gb/s,2Gb/s,4Gb/s,8Gb/s。</p>

<p>IP SAN的成本低，卡和交换机都便宜的多，速度也还过得去，成本只有1/10以下。</p>

<h3>IP 与 FC的融合</h3>

<p>局部隔离（逻辑独立）、全局共享（连通）。不明所以，应该就是adapter，但实际上不太能行得通应该。还不如直接加入软件。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[房祸替黄祸挡下了子弹]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/07/huanghuo-give-way-to-fanghuo/"/>
    <updated>2013-01-07T19:31:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/07/huanghuo-give-way-to-fanghuo</id>
    <content type="html"><![CDATA[<p>读了王力雄写于90年代的《黄祸》，可以想象这本书在当时必然是取得了爆发性的效应。回过头来看，尽管有些东西已经过时了，但还有些东西真的是切实存在，
而且直接导致了如今的<strong>房祸</strong>。</p>

<p>整篇小说其实写的很跳跃，基本是一段一段的。场景也在中国的北方南方、世界各国跳来跳去的。书中塑造的让人记得住的人物有</p>

<ol>
<li>李克明，一个身手很好的警察，蒙冤并遭毁容，而后引出一系列武装斗争，最后死在中俄边境。</li>
<li>石戈，不大不小的京官，后来代理了总理，递进民族制度的代言人，应该最接近作者本人。</li>
<li>王锋，所谓的法西斯军人，但左看右看不太像。</li>
<li>周驰，气动大师，这个最典型，但是作者的小说里把气功列为实际会起作用的。</li>
<li>陆浩然，前任总理，替代了总书记，比较软，也缺乏掌握大局的能力，最后被美国人暗杀。</li>
<li>黄士可，福建的一个市长，带领福建搞一国两制，排斥北方人，强调北京是国，福建是制，口号是“自己过，过的更好”，“北佬的穷包袱属于他们自己”。</li>
<li>丁大海，王锋的潜艇舰长，最后发了20枚核弹导致美俄发生误会。</li>
</ol>


<p>女性相对较少。印象深刻点的无非一个是台湾女间谍，另外一个就是陈盼，石戈的姘头。</p>

<p>小说的情节其实很荒诞，作者在当时也完全无法意识到互联网和信息化会对中国造成更大的改变。
书本身还是很精彩的，作者也把自己的一些观点纳入其中。例如：</p>

<ul>
<li>马克思主义把全部注意力放在消灭生产资料私有制上，忽略了<strong>社会权利私有制</strong></li>
<li>中国是人口最多，人均资源最少，欲望最高，道德水平最低。这是房祸的根源，而且无法解决</li>
<li>投票有用，但是如果投票是去投<strong>脱离地球</strong>之类的，那全部赞成票也是没用的</li>
</ul>


<p>王力雄的文风是很偏理科化的作家，充满着阳刚和逻辑之美。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[考研三周年纪念]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2013/01/05/kaoyan-3-zhounian/"/>
    <updated>2013-01-05T21:56:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2013/01/05/kaoyan-3-zhounian</id>
    <content type="html"><![CDATA[<p>在2010年的一月考试季节，我参加了研究生入学考试，至今已整整三年了。而在昨天，我已经拍摄了毕业集体照，即将拿到学位和学历证书。也在昨天，
工作上终于又有了突破。
今天，是2013年考研的日子，借机提取一下自身的感受。</p>

<p>回首这三年是很丰富多彩的，可以说比以往经历的任何三年的内容都要多。这三年中，我用75天左右的时间复习了高数等考研内容，参加了研究生入学的1月份
全国统考，踏破了复旦线。这三年中，我找到了自己的爱人，一起买了新房，忙活了很久房子的装修，举行了自己的婚礼。这三年中，我和妻子开始独立生活，
撑起自己的小家庭。这三年中，蜜月的意大利之旅至今令人难忘，甚至增强了我对阳光的感觉。这三年中，在张江进行研究生阶段的进修，学写论文、发表论文，撰写硕士论文并通过答辩。这三年中，补充了经济管理方面的知识，至少
有半个mba的水平吧。这三年中，实现了工作的突破。这三年中，迎来了宝宝的降生，品尝到做父亲的喜悦与辛苦，体会到老婆和女性的不易。</p>

<p>这三年里确实经历了许多精彩，丰富了自己的人生。当然，也有悲哀和痛苦的。自己的体重又快接近减肥前了，身体也始终受一种毛病的困扰，我亲爱的外婆、大姆妈辞世。
人生总不可能是圆满的，世上不如意之事十之八九，花未全开月未圆，不顺也是生活中必然存在的一个部分。总体说来，这三年还是充满了很强烈的幸福感。</p>

<p>今天是新年的第一篇博客，既是对三年的一点小回顾，也不免俗地写点新年心愿。最大的愿望当然就是宝宝顺利健康地成长，家人亲友都能平平安安。有人认为人到中年
不忙赚钱忙做事，但我作为一个居家的上海男人还是追求平安是福。其次希望工作的结果能更有意义，呵呵，做事是第二位的，平安幸福重要，但要幸福必须
得做事才行。具体的着手打算从对存储设备及安全的研究开始。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ziyang]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/12/25/ziyang/"/>
    <updated>2012-12-25T22:42:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/12/25/ziyang</id>
    <content type="html"><![CDATA[<p>全书比较浪费时间，最有价值的是最后的一篇历史专家的序，基本把主要内容概括出来了。</p>

<p>作为实际操作改革开放的设计师，Z肯定有过人之处，但同时也可以看出2B的地方也不少，可见人总有弱点，也不必追求尽善尽美。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[浪潮之巅]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/12/25/lang-chao-zhi-dian/"/>
    <updated>2012-12-25T22:42:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/12/25/lang-chao-zhi-dian</id>
    <content type="html"><![CDATA[<p>读完浪潮之巅，确实算本好书。作者能记录那么多小故事小掌故可见平时的积累很深。财经股市融资讲的也很生动。
当然，不见得所有分析都对。比如solaris他就没意识到是被ibm支撑的linux打败的，windows至今在桌面上和linux井水不犯河水。当然，盖茨的担忧不是没道理。
pc上linux毫无机会，但是移动终端就变天了。</p>

<p>另外，给我的启示是别说老师不知道我们今后能干什么，实在是没人能料到发展状况的，以前指望老师指条明路的想法太不切实际。
这个产业的高速发展和不确定性完全不是能被预知的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[《天葬》读后感及Kindle的体验]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/12/15/tianzang/"/>
    <updated>2012-12-15T21:09:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/12/15/tianzang</id>
    <content type="html"><![CDATA[<p>Kindle到手后，一周读了一本半书。两本书的作者都是同一个人wang li xiong。</p>

<p>TianZang(T)这本书是写的逻辑很清晰的。从介绍西藏历史上和中国之间的关系入手，高低起伏、左转右转的关系相当引人入胜，条理极其清晰，也就很容易
记忆住了。</p>

<h3>关系简史</h3>

<p>西藏原来叫做吐蕃，唐朝时候和大唐争斗不息，互有胜负。大唐吃了不少苦头，也嫁了几个公主给他们。彼时的吐蕃人有400万之众，也未皈依佛教，
战斗力极强。藏人本是游牧民族，骑马骑牦牛，从坡上下来打唐军可以占尽便宜。到宋代，自然无力针对他们，于是让出很远一片，基本就和藏人不接壤了。吐蕃人
此时也开始信佛，没有扩张性了，人口实际上从那时开始直到后来也就只有400万的1/4-1/2。</p>

<p>元朝的番僧，是蒙古人统治的精神支柱。彼时吐蕃人就变成了<strong>国师</strong>，和蒙古人一样属于统治阶级。蒙藏那时本是一家，联合统治了华南华北。蒙藏的关系一直
很密切，其后一直到明朝之后还是如此。而在明朝，藏人开始押宝大明，毕竟大明赶走了蒙古人。他们也会向明皇帝朝贡，但也仅仅是朝贡，实际上大明
还要回赠的更多。但形式上，确实向大明称臣。到了清代，情况发生了变化。</p>

<p>在清代对葛尔丹和青海蒙古族进行了镇压和屠杀后，蒙古人的势力在西域和西藏开始衰弱，至今新疆境内仍然有蒙古自治州县就是衰弱后的残余。蒙古人的空间逐步被维吾尔
和藏人占据。清代逐步设立了青海办事大臣和驻藏办事大臣，西藏在清代被称作<strong>唐古忒</strong>。不过实际权力还在喇嘛手中，大臣被戏称为“熬茶大臣”，即只负责
施舍粮食的大臣。</p>

<p>随后英国人荣赫鹏对西藏的入侵，导致清朝开始重视西藏的主权。因为这个是很耗精力的，藏人又不好管，无人进藏的困难从未真正有解决方案，清王朝之前
的统治以名义为主，实际操作中少花钱少办事是主旋律。而且藏人也极其闭塞、愚昧不好打交道。以至于大臣见到荣赫鹏时顿有知音之感，因为他们在藏人
面前的经历类似。可见他在藏人那又多郁闷。“藏人实以极端顽固之民族”。</p>

<p>清末加强主权开始，一张一赵成为清廷处理西藏问题文武经略。他们的控制应该说还是很成功的。只是清王朝彼时已行将就木，所以他们最后是败给了自己人，起义及起哄的汉人。
民国开始，自然无力顾及西藏，基本就这样子。一段插曲是，藏人认为中国军队进驻西藏一年半以后，清朝就遭到了报应，因为它虐待了宗教领袖，还让领袖
给西太后与皇帝行跪拜之礼。当然，五十年代的报应至今还没看出端倪。</p>

<p>从辛亥革命之后到51年之前，西藏基本处于实际独立的状况，因为中国实在没空管。但是为了<strong>川滇秦陇</strong>的防卫，显然不可能长期不管。于是在51年西南西北野战军
就开始进藏。藏人的战略战术都不行，也没有打游击战，被解放军在川藏线上包了饺子。于是同中共和谈，最后算是和平解放。但藏人的统治还是寺庙宗教
在执行，中共当时是联合的西藏贵族和喇嘛，农奴制其实没有多少变化。但是，把农奴制的统治地区限制在了西藏自治区。而青海、四川甚至甘肃云南都有
一部分的藏区，这部分藏区不再实行农奴制，开始打当地的藏人贵族和寺庙。因为藏人的传统统治基本单位就是寺庙和贵族。</p>

<p>虽然行政上分在几个行政单位中，实际上藏族之间的关系千丝万缕。于是在川藏青藏吃了亏的人退进了自治区退到了拉萨，自治区反而变成了他们的根据地。
从此，自治区里面的冲突开始逐步升级，最后只能通过战争解决。自然谁胜谁败不难评判，达赖从此出逃去了印度的达兰萨拉。在得罪了高层之后，党就开始走下层路线，用阶级斗争来解决民族冲突。
伟大领袖从此也成为了藏人的领袖和心中的红太阳。这段时间到文革，基本左的很厉害，党也建立了在西藏实际有效的统治组织。藏民中的下等人逆袭成为了主要的帮手。
而且彼时国家对国人有绝对的支配权，无人进藏的问题暂时不成困难。此时的政府确实完全具备了对西藏的主权，西方的概念。</p>

<p>文革结束，党对藏人执行了宽松的政策。以藏人治理藏人。同港人治港不同，港人治港一直依靠香港有钱人上等人。藏则经过了依靠穷人又变为富人翻身，
以前的西藏贵族在取消阶级斗争后，又迅速地富了起来，社会地位等超过了穷藏人。宗教作为藏文化的核心内容，和尚和寺庙都变成了上宾。而且实际上影响着
藏人。宽松的政策容易导致四不像，反而易出问题。好比国民党想军队国际化，撤出了党代表，最后军队搞的一盘散沙。西藏在80年代则也有类似的现象。
所以部分人把这称为胡乱邦。87年之后，形式越来越紧张，藏人日益放肆，而老一代的西藏汉族干部都年纪大了。所以出现了冲突。这时候又是西藏分裂势力
开始抬头。随后，中央政府及时调整了政策，在90年底起，重新加强了对边疆的建设和防备。局面始终在党的控制之下，但摩擦始终存在。</p>

<p>而达赖在去了达兰萨拉后，和西方接触日多，又是转世灵通的底子，逐步成为了西方很喜欢的西藏代表。变成了西方牵制中国中共的一张王牌。</p>

<p>纵观简史，西藏的问题确实很复杂，地域、空间、民族、气候的特点，使得它其实是不太适用于源于欧洲的那套国家体系。而目前国际通行的标准和规则
又就是那一套，因此引经据典注定到头来总是看以谁的角度来看待问题。因为这个约等于完全处于主观判断中。</p>

<h3>未来的遐想</h3>

<p>杨度有一句名言，若我中华国国亡，除非湖南人尽死。对于西藏问题，可以借用改造一下得出：若我中华失去西藏，除非中国人尽死。<br/>
这并非危言耸听，以如今之形式及生存空间的要求而言，中国人是很难放弃西藏这块地区的。别说青、藏、川，哪怕只是一个自治区要想完全脱离汉人的怀抱
也是不可能的。即便是民主及各地拥有高度自主权的中国，也是会让西藏纳入在版图之内。在这方面，中国政府的后退空间确实不多。从当前的情况看来，只有这样继续僵持了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[硕士答辩]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/12/09/dabian/"/>
    <updated>2012-12-09T21:22:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/12/09/dabian</id>
    <content type="html"><![CDATA[<p>12月7日周五下午通过了硕士论文的答辩。多亏了C，让我们可以在比较早的顺位得到答辩的机会，大大节省了时间和精力。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Kindle]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/12/09/kindle/"/>
    <updated>2012-12-09T20:53:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/12/09/kindle</id>
    <content type="html"><![CDATA[<p>周五终于忍不住买了一台Kindle，把玩不久之后就喜欢上了。到手没多久已经用她看完了《我的西域，你的东土》后半部分。
比起在手机上，即便是4寸的手机，看书的感觉棒多了。甚至比在电脑上看还要好，比抱着实体书看的感觉更棒。为什么这么说？</p>

<p>最简单的道理就是分量轻、字体可以很大。从体积和重量上来讲，kindle的分量只相当于一本普通的100页不到的产品说明书，手握着相当舒服。和纸质书相比，
要轻了许多，尤其是和那些大部头的书比较的话，计算机的书籍很多都是很厚的，显然轻便很多。手握着很轻松，单手也能操作，口袋里可以随便塞。在日光
下的显示效果也要好于纸质书。</p>

<p>而在字体方面更是可以做到很大。从这点上来说是对纸质书实现了全面的突破和超越。看大字不费眼不容易近视是普遍认同的，但囿于纸质书的体积和重量，
篇幅必须加以控制，而篇幅的控制除了内容本身的长短就是和字体排版大小相关了。传统书籍为了还能让人携带，或者处于印刷成本的考虑，字体都是不得不损失的，
而小字体其实阅读体验并不好，也容易伤眼。从阅读本身角度来说，字体越大眼睛越不累（当然自己感觉不到累可能眼睛会用的更多，呵呵）。Kindle就可以把
字体放置的很大，看起来就舒服多啦。</p>

<p>此外，如今的年代抱着一本书在外面看是不太好意思和别人打招呼的。Kindle就没这个问题了。带着和带pad、带手机看东西的感觉是一样的，同外部环境很协调。</p>

<p>在我看来，这绝对是阅读方面划时代的产品。对纸质书的冲击以后再写文章评论吧。大体上认为是赢家通吃&amp;长尾理论挤掉了中坚力量的存活空间。</p>

<p>最后，必须得承认<a href="" title="http://home.duokan.com/index.html">多看</a>的功能比原厂的软件做的好很多，至少在适应中国人的习惯以及中文阅读方面要强出许多。
对于我最喜欢的PDF格式支持也很好，关键一点在于支持智能重排，效果那是相当的棒。此外，多看设计的Wifi传输，其实就是ftp服务，也相当的实用。一开始
还担心安全问题，后来确认它默认是关闭ftp的。Kindle的硬件+多看软件，这个组合相当厉害。现在就等我的疯马纹皮套和SOLIS灯了。</p>

<p>I love it!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[悼外婆]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/11/23/daowaipo/"/>
    <updated>2012-11-23T22:12:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/11/23/daowaipo</id>
    <content type="html"><![CDATA[<p>亲爱的外婆在11月7日晚间22:34在建工医院去世了，享年85岁。</p>

<p>按江苏吴江的叫法，我从小一直管外婆叫娘娘。对娘娘最早的印象应该是三四岁时在上海上幼儿园的那一阵子。那时候娘娘已经退休，主要就是管我哥哥（大舅舅的孩子）和我。
会送我去幼儿园，也会带我一起去哥哥上学的三中心附近的山阴路上的一幢房子。那时候，娘娘在我印象中就是一个很白很干净的长辈。</p>

<p>上小学一年级开始，我就回到了上海，住在了外婆家里。从那时起开始了长达12年的小学、初中、高中。这12年都是在娘娘家，所以说基本上我是娘娘带大的。
娘娘的教育方针很简单，小孩子做事要专心、不能交坏道、得到老师的表扬她总会显得很开心，并且反复以此来鼓励我们。一二年级拿回的五角星，直到高中
甚至以后进入了大学，娘娘还是会跟我讲起我那时候带星星上来的高兴劲与自豪感。娘娘的专心教育是从一点一滴做起的。比如看电视，她就要求我看了就不要
随便换台。而当我五年级开始养成了读报的习惯后，外婆也始终夸奖。尽管那时候我基本只看体育版的新闻。但无论如何，因为外婆的表扬我坚持了读报的习惯，
养成了速度的能力。</p>

<p>十二年里，外婆要在生活上照顾我。最频繁也最累人的莫过于要准备一日三餐。早饭基本是为我一个人买的，娘娘每天都要很早起来就准备好。毕竟当时我是7点
出头就要出门，可以想象娘娘是要起的多么早。中饭我12年基本都回家去吃，外婆总是又要准备饭菜给我吃。晚上是一家子一起吃饭。加上小舅舅夫妻，基本上
总在五个人以上。娘娘为此付出的辛劳，彼时的我是不能体会和理解的。而在我成年后，再回忆起这些东西，才感受到娘娘当初有多么不容易。
除了勤劳之外，娘娘最大的特点就是节俭。这个品质也影响了我的性格和行为。</p>

<p>为了支持我报考上海交通大学，娘娘在后勤及复习环境布置方面都动足了脑筋，想尽了办法。为了让我晚上有个安静的复习环境，把写字台移到了外面。同时也为了
每天的伙食尽量想办法。有时候，还要作为心理医生来开解我的紧张情绪。当我如愿以偿考上交大计算机系后，我第一个想感谢的就是我亲爱的娘娘。可以说，没有
娘娘就没有我出色的高考成绩，也就不能进入心中理想的学府。娘娘的教育是形成我这些习惯、取得这些成绩的重要的一环。</p>

<p>考上大学后，我和娘娘就改变了相依为命的生活状况。我回到了父母的身边，去了闵行，也就是上海交大。从那时起，就不能天天和外婆见面了。只有在假期在节日
会去看外婆和外公。娘娘对此也十分理解。一来她知道我的大学学习负担很重，压力很大；一来她也是了解我的性格的。既然培养了一个专注的孩子，允许他
忙自己喜欢的事情，而只能允许他对其他东西可以冷淡了。</p>

<p>这样的日子一直持续到大三结束。在这3年中，可能因为外婆和外公年纪都大了，也可能我的离开改变了他们的生活习惯，也可能是其他各种因素，外婆外公在心血管
方面都患上了疾病。可能这也是难以避免的。当时的医生也只是说年纪大了，今后自己注意。而我们在海伦路的老房子也因为修建4号线而被拆迁。妈妈此时也正好退休，
为了照顾娘娘和阿爹就一起住到了搬迁的房子里。我在周末则又回到娘娘这边。大四时学校安排我们在徐汇校区进行学习，离闵行的家反而更远。这样我就又每周可以见到
娘娘了。随后我踏上工作岗位开始职业生涯。工作的头一年半也是和娘娘一起住的。后来爸爸也快要退休，为了家里人住的方便，同时也能照顾到老人，爸爸妈妈
就在娘娘家附近买了房子。这样就又不能天天和娘娘见面。但是住的很近，基本上一两个礼拜就会去看娘娘一次。</p>

<p>现在想来，那时候为老人做的事情太少了。太过专注于自己的事情那其实就是自私了。</p>

<p>后来外公的身体日益差了下去，娘娘也在一直照顾外公。然而毕竟她自己年纪也大了，照顾老伴的负担也很重，对身体的影响也很大。而娘娘就这样坚持下来了。
亲爱的娘娘就是这样，虽然平凡地做小事，但能始终如一地做好。日积月累，累计起来就很了不起了。在2008年，娘娘遭受了阿爹去世的严重打击。但仔细想想，
那时候他们已经一起度过了63年的光阴，这是多么不容易啊。外公死后，外婆坚持不用保姆，也不肯麻烦几个孩子住到他们家里，只愿意隔三差五地去待一待。
出于节俭的习惯，这是可以理解的。出于勤劳的习惯，她也不愿意什么都她人来做。而且娘娘是个很有主意的人，也不喜欢家里多一个保姆。两个舅舅和我妈坳不过
娘娘，只得答应。</p>

<p>这个阶段，娘娘的生活总体来说是轻松的。子女都照顾着她。娘娘自己的身体也很健康，生活质量是很高的。用她自己的话说就是“活要健，死要快”，就是说
活着的时候要身体健康，一旦身体不行了最好死的痛快不要拖延。唯一的缺点就是冷清了点。当然，随着我哥哥孩子的出世，这个小孩给娘娘带来了很多的乐趣和欢乐。
当得知我考上了复旦大学的硕士研究生，娘娘也是由衷的高兴。当看见我结婚，娘娘是很开心的。给了我和老婆很厚重的红包礼金，要我好好生活，好好撑起自己的家。遗憾的是，我因为开始习惯新的生活而且搬离到稍远的地方，
再加上娘娘后来每天六点不到就上床休息了，婚后这一年多的时间里我看娘娘的次数就比较少了。当然，逢年过节会去拜望她，家庭聚会的时候还是可以见到娘娘的。
但次数加起来也不多。这是我后悔的地方。也由此，我开始理解了家庭聚会的意义。一些曾经很容易的事情可能在能做的时候是被忽略了，只有到了不能重现的时候，
才能理解这些事情的可贵。家庭聚会就是这样一种。我在娘娘阿爹结婚60周年时给他们拍的照片也是这样一种事情。回想起来，给他们拍的照片还是太少了，对他们的
关心和照顾还是做的很不到位的。</p>

<p>不过，外婆始终强调我现在已经独立成家，负担起一个家庭的任务是有挑战的，我应该首先过好自己家里的日子。娘娘的教育始终是以孩子自身处境的好坏为本的。
但是，我确实没想到娘娘会离开的那么快。甚至没来得及看到我即将出生的孩子。在我看来，娘娘应该还能活不少年，毕竟她这几年的精神不错。即使在住院后，
我也只是认为会转入长期卧床治疗，实在是没想到会走的那么快。最令我感动的是，在生病住院前，85岁高龄的娘娘在得知外孙媳妇将在距离不远的医院生产后，表示一定要去医院探望。
作为一个传统的中国人，娘娘始终牵挂着下一代的成长。有时我也想，对他们而言，子孙后代的成长成功是一生中最重要的事情吧。</p>

<p>仔细想来，娘娘也是有福之人。生于民国年间的她和阿爹，受到过在那个年代很难得的教育。外公的文化水平很不错，娘娘也是从小识字，读写都没问题。在45年抗日战争胜利、全国喜庆的那一年订婚、结婚。婚后育有两男一女，可谓
有儿有女，数量正好。更重要的，她和外公携手，美满幸福地度过了63年，在95年结婚50周年的时候当时工商银行还给他们举行了集体的金婚聚会，留下了珍贵的照片。这个聚会也成为外婆最津津乐道的事情之一。我想她回想起来是充满幸福感的。
在他们60周年结婚纪念日时，工商银行又发来聚会通知，只是因为外公身体的原因，那次是没有去了。无论如何，能和自己的爱人携手走过60多年都是幸福美满的。
对比如今这个时代，更体现了难能可贵。同时，娘娘阿爹对子女的教育也是成功的。三个子女均成为对社会有用的人，都建立了自己家庭，对社会作出了贡献，成功地在
社会上立足。对此，娘娘是自豪和自信的。</p>

<p>我也可以很自豪地说，娘娘绝对是晚辈们心中慈祥的长者和家庭的榜样。我爱我的娘娘，我想我的娘娘。</p>

<p>作为晚辈，按娘娘的教诲做事做人就是对长辈最好的纪念。娘娘，您安息吧，您一贯的“简朴、勤劳、节约”以及“诚实做人、勤俭持家”是我们永远要学习好品质和遵守的家庭准则。</p>

<p>二零一二年十一月二十三日晚<br/>
于娘娘逝世半个月后补祭</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What's new in Rails 4]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/11/23/whats-new-in-rails-4/"/>
    <updated>2012-11-23T22:00:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/11/23/whats-new-in-rails-4</id>
    <content type="html"><![CDATA[<p>来自<a href="http://vimeo.com/51181496">视频</a>的笔记</p>

<h3>Rails.queue</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class ExpensiveOperation
</span><span class='line'>  def run
</span><span class='line'>   
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>Rails.queue.push(ExpensiveOperation.new)
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>config.queue = Sidekiq::Client::Queue #Resque, delayed_job</p>

<h3>strong_parameters</h3>

<p>Alternative to MassAssignmentSecurity</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class PostsController &lt; ApplicationController
</span><span class='line'>  def create
</span><span class='line'>     @post = Post.create(post_params)
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  private
</span><span class='line'>  def post_params
</span><span class='line'>    params.require(:post).permit(:title, :body)
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'>  </span></code></pre></td></tr></table></div></figure>


<h3>Turbolinks</h3>

<h3>Cache Digests(Russian Doll Caching)</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># app/views/projects/show.html.erb
</span><span class='line'>&lt;% cache project do %&gt;
</span><span class='line'>  &lt;h1&gt; &lt;/h1&gt;
</span><span class='line'>  &lt;%= render project.documents %&gt;
</span><span class='line'>&lt;% end %&gt;</span></code></pre></td></tr></table></div></figure>


<h3>ActionController::Live</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>include ActionController::Live
</span><span class='line'>
</span><span class='line'>response.stream.write "hello\n"
</span></code></pre></td></tr></table></div></figure>


<h3>PATCH Verb</h3>

<p>just as PUT</p>

<h3>Plugins are dead; long live plugins</h3>

<p>use gems with bundle</p>

<h3>lambda scope</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>scope :published, -&gt; { where(:published =&gt; true) }
</span><span class='line'>
</span><span class='line'>#Pitfall 
</span><span class='line'>scoped :recent, where("created_at &gt; ?", 1.week.ago)</span></code></pre></td></tr></table></div></figure>


<p>@sikachu</p>

<p>Routing Concerns</p>

<p>Long live activeresource</p>

<p>The changes seem not to be surprising compared with those from Rails 2.3 to Rails 3.0. And perhaps less than from 3.0 to 3.1.
They are real slight for Rails. I guess this is due to DHH have just had a Colt HH. The same for me!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[软考之系统架构设计师]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/11/04/ruankao-xi-tong-jia-gou-she-ji-shi/"/>
    <updated>2012-11-04T15:04:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/11/04/ruankao-xi-tong-jia-gou-she-ji-shi</id>
    <content type="html"><![CDATA[<p>距上次考<a href="http://octopresszhangyu.herokuapp.com/blog/2012/05/27/take-the-exam/">软考的中级项目经理</a>已经有将近半年的时间。看了软考证书的性质一直想再去考一个高级的证书出来。
毕竟这个证书既然上海居转户认可，那么就有其权威的性质。起初想报考网络规划师，主要是想在考试的同时可以把网络知识学的全面一些。但随着下半年
论文等事宜，准备一门新的考试的时间并非很充足，所以最后换成了软件架构设计师。实际上下半年只有项目管理、网络规划、系统架构3门高级，项目管理
上半年考了中级，没有继续主要是因为第一书已经借出去了，第二考出来后还要等3年才能去换高级项目的证书。看了看架构师的题目，基本不需要太多额外
的准备工作。于是还是选了架构师。</p>

<p>复习一直进行的有条不紊，自己也想试试能否通过低强度的复习就通过。因为这一门总体而言对我并不难。麻烦主要是下午的问答题，但这里面运气的成分还
是蛮大的。下周就要考了，但愿过关吧。</p>

<p>上周还去考了末代上海职称英语考试。卷子比较简单。同全国卷相比，词汇部门难一些，阅读部分没有很强的干扰项。大致上二者都不难，而且又都可以带
字典。考试的地方在锦绣路浦建路那边的东辉职业学院，附近有香梅花园、上海绿地等大楼盘。整个区域的环境还是不错的，房子也大都造于04-06年间。
有闲钱的话，可以考虑到那边置业，基本上4万/平。最大的特色是运动场地多，包括露天的带跑道的操场，健身会所等。这样的社区环境可能还是比较难找
的。劣势么就是毕竟在浦东，学校、交通总是僧多粥少。</p>

<p>Updated on 27/11/2012: 职称英语的成绩今天查到了。按理是昨天<a href="http://www.spta.gov.cn">spta</a>这个网站就公布查询界面了，但是网站后来瘫掉了，所以今天才查。分数还不错，
92分高分通过。这几年的英语还是有所长进的。毕竟06年去考B级的也只有85。从这次分数的情况来看，应该是完形填空错的太多了。</p>

<p>Updated on 27/11/2012: 写文章的时候，娘娘还在医院的看护病房里观察，病情尚算稳定。老婆午睡完毕后提醒我提过的要去看娘娘的事情，时间也正好赶上。
但随后几天，娘娘的病情恶化，于周三11月7日去世。本来打算弃考软考，毕竟也不是什么很严重的考试。
不过最后还是去考了软考的系统架构设计师，只是状态确实不好，冲刺复习也基本为0.之所以还去主要还是
妈妈的支持以及做此类事情娘娘向来是全力支持的，我放弃去考反而不是家里希望看到的。过关与否，已经是次要的了。</p>

<p>Updated on 11/01/2013: 成绩结果终于能够查了。rkb的网站依然不是很给力，响应和可靠性都比较差，基本到晚上六点以后才算恢复查询功能。还好论坛
里有人给了信管网的链接才不至于等太久。最后的分数还不错，都过线了，上午表现正常偏好，下午一发挥尤其出色，下午二涉险过关。总体而言，确实是一门很经济实惠的考试，对我而言。
领证当然还有一个过程，估计要4月份才能拿到证书，2月份的时候应该会先填合格人员登记表并把照片送到报名点。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[一个政府网站]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/11/02/a-gov-site/"/>
    <updated>2012-11-02T10:30:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/11/02/a-gov-site</id>
    <content type="html"><![CDATA[<p>最近发现网上预约挂号竟然免费了，确实挺稀奇的。同时，发现全国的那个
<a href="http://www.guahao.com/">挂号网</a>做的相当有特色，可以说很不像一个官方
站点，所以记录一下调查出来的结果。</p>

<p>初一看，这个站点很像Rails制作出来的网站。当然，Rails只是后端，任何
后台程序都可以产生一样的HTML页面。但是实践和习惯也是一种强大的力量，
所以风格上还是很有倾向性的。
能确定的，就是从页面风格上，这个站点用了大量jquery和bootstrap的前端技术，
后端的框架可能不是Rails，但这个框架本身借鉴了很多Rails的技巧与实践。</p>

<p>从网站的风格可以看出，受豆瓣的影响挺深。从我的口味来说，这个站点比豆瓣
做的更加清爽。</p>

<p>后台的技术并不完全确定，不过这个站点也使用了varnish这个组件。</p>

<p>之后，就好奇这个站点是哪家开发。毕竟一个官网做成这样是很罕见的。搜索了半天，
终于发现原来是浙江杭州的一家公司做的。这家公司其实是一个互联网公司，并不是
传统的做如软件集成业务的企业，也难怪会做出这样一个与众不同的产品出来。</p>

<p>下面是这个企业的介绍，摘自<a href="http://search.51job.com/list/co,c,2756440,000000,50,1.html">51job</a></p>

<blockquote><p><strong>浙江康健绿线网络技术有限公司 </strong><br/>
为提高全民健康素养，切实缓解“看病难”问题，2010年3月，经卫生部批准， “全国健康咨询及就医指导平台”正式启动建设，目前为用户提供就医指导、预约挂号、 健康咨询、医疗支付服务，帮助用户合理就诊、方便就医。“全国健康咨询及就医指导平台”由卫生部新闻宣传中心/中国健康教育中心组织实施，中国医院协会提供支持。</p>

<p>作为“全国健康咨询及就医指导平台”的官方网站，Guahao.com通过号源托管、HIS直连、搜索链接三种方式聚合了全国超过400家重点三级医院的预约挂号资源，建立了全国三级医院22万名医生的专长库，帮助全国用户“找对医生挂到号”。</p>

<p>“全国健康咨询及就医指导平台”启动两年来，已成功为全国超过1200万用户提供了预约挂号、就医指导、健康咨询服务，成为了全国规模最大的医疗健康服务平台。</p></blockquote>

<p>不过仔细分辨的话，这个站点不具备一些rails网站的典型特征，尤其缺乏近期Rails的实践特色。目前推测实现上可能是采用的Zend，一个PHP的框架。</p>

<blockquote><p>Zend Framework的设计构思形成于2005年，由Ruby on Rails和Spring Framework的设计思路发展而来的。2005年10月，第一次Zend年会上，Zend公司宣布了ZF的开发计划。[2]
2007年7月1日，Zend Framework 1.0发布。
Zend Framework 本身的结构很大程度的模仿了 Ruby on Rails，但又做了足够的改动使其适应 PHP 的特点。所以很多 PHP 框架都或多或少的借鉴、参考了 Zend Framework。由于不满 Zend Framework 中前端控制器重复初始化带来的不必要开销，甚至有开发者用 C/C++ 写 PHP 扩展的方式，重新实现了 Zend Framework ，使前端控制器只需要全局初始化一次（Yaf Framework）。</p></blockquote>

<p>估计挂号网也是用zend写的。也就难怪这东西做出来的html和url确实和rails像极了。</p>

<p>同时，听说<a href="http://xiami.com">虾米网</a>改用PHP了，不过我以前记得是Rails写的。看网站的介绍，推测是08年年底他们改换成的PHP，呵呵，看来不关注这个网的时间蛮久了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[对软考证书价值的理解]]></title>
    <link href="http://octopresszhangyu.herokuapp.com/blog/2012/10/05/the-value-of-ruankao-i-learned/"/>
    <updated>2012-10-05T10:18:00+08:00</updated>
    <id>http://octopresszhangyu.herokuapp.com/blog/2012/10/05/the-value-of-ruankao-i-learned</id>
    <content type="html"><![CDATA[<p>从证书本身来说，高级证书就是相当于高级工程师资格，如果放在学校里就是相当于可以聘为副教授了。</p>

<p>在软考出台规定cancel掉一切计算机工程师评审之前，以及其他至今仍然在评定的中高级职称，通常情况下一个大学本科毕业生需要经过5年才能拿到中级证书，再经过5年才能拿到高级证书。
也就是说成为高级职称至少需要10年。这还是假设评审没有落下一点时间，每次评审还都通过了。<strong>而评审所能拿到的无非也只是一个资格证书。</strong></p>

<p> 如果不明白中高级职称评审，那么可以看看大学副教授要怎么经历才能评上。一个博士毕业后，进入大学也只是讲师，也差不多要经过5年左右才能评上副教授。
 当然，个别牛人会快一些，但大体上是要熬这么一些年头的。 而对一个计算机专业的博士，考个高级工程师肯定比写篇论文简单的多。
如果学校或者单位就因为有了这么一张高级证书就给予副教授的待遇，其他院系显然是要闹翻天的。
同样，这种情况也适用于普通单位。毕竟软考本身就是连应届生都能考。
如果考出来就给予中级或者高级的承认，显然很难摆平。从软考本身的含金量上也远远达不到这种权威的效果。
所以，所谓高级或者中级的资格往往只能是一张无法兑现的画饼。对比普通高级职称和副教授的获取难度，显然工信部证书的说服力是不够的。
评的虽然也只是资格，但转化成聘用要顺利的多，从教授的评和聘依然不怎么区分，可以看出此种情况下评和聘是一回事情。</p>

<p>但话说回来，这个证书也不是完全没用。
所以目前的情况就是各个地区对待这个证书的态度是很不一样的。但无论如何，凭这张工信部的软考证书就获得中高级职称的美事显然是不太行得通的。
这几年，软考最热的是项管中高级。原因也很简单，拥有资质的项目经理数量和公司的集成资质挂钩，很多情况下是公司在要求员工考。
证书的价值是对公司有用而不是对个人的。如果真的是对个人有很大用处，恐怕集成资质这根指挥棒也不会有那么强的效果。</p>

<p>因此，我对这张证书的理解是应届生靠这个可以打打基础。毕竟学习和准备本身也是一种提高的过程。抛开能力强的一小部分同学，通过认证的应届生肯定比没通过的强。
当然，指望这个直接成为中高级是不会有单位搭理的。
对于已经工作的，除了学习的作用外，外企是看都不看的。国企里面用处也不是很大，毕竟国企的职称晋升本身就有自己的一套规则，如果这家国企把软考列为标准，那么就是有用的了。
不过这种情况很少。<br/>
民企和有些需要资质的国企，有意义的就是项管证书，条件么看公司怎么开了。
实际上，国企民企里面社会职称的作用并不大。从上海的政策来看，报户口时中级职称的要求还是认可软考的。所以工信部的证书还是有些分量的。
 职称最有用的可能还是事业单位吧，不过事业单位、政府单位我也没呆过。鉴于工信部证书的身份和威力，只能是具体单位具体分析了。
总体而言，还是很鸡肋的一张证书，不然也绝不会变成新立的项目管理唱主角。</p>
]]></content>
  </entry>
  
</feed>
